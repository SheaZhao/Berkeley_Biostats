<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Shea Zhao" />


<title>Module_1</title>

<script src="Mod_1_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="Mod_1_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="Mod_1_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="Mod_1_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="Mod_1_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="Mod_1_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="Mod_1_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="Mod_1_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="Mod_1_files/navigation-1.1/tabsets.js"></script>
<link href="Mod_1_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="Mod_1_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Module_1</h1>
<h4 class="author"><em>Shea Zhao</em></h4>

</div>


<style type="text/css">
#TOC {
  color: purple; 
}

</style>
<p><br></p>
<div id="about-our-data" class="section level2">
<h2><span class="header-section-number">0.1</span> About Our Data</h2>
<p>Our data comes from: <a href="https://vincentarelbundock.github.io/Rdatasets/datasets.html" class="uri">https://vincentarelbundock.github.io/Rdatasets/datasets.html</a> We will be using the dataset “socsupport.csv” from R package DAAG. The data dictionary is here: <a href="https://vincentarelbundock.github.io/Rdatasets/doc/DAAG/socsupport.html" class="uri">https://vincentarelbundock.github.io/Rdatasets/doc/DAAG/socsupport.html</a></p>
<p><br></p>
</div>
<div id="exploring-the-data" class="section level2">
<h2><span class="header-section-number">0.2</span> Exploring the data</h2>
<pre class="r"><code># first load &amp; view the data
data &lt;- read.csv(&quot;/Users/shea/Documents/Berkeley Biostats/socsupport.csv&quot;)
summary(data)</code></pre>
<pre><code>##        X           gender      age          country      marital  
##  Min.   : 1.0   female:71   18-20:44   australia:85   married: 9  
##  1st Qu.:24.5   male  :24   21-24:35   other    :10   other  :10  
##  Median :48.0               25-30: 6                  single :76  
##  Mean   :48.0               31-40: 6                              
##  3rd Qu.:71.5               40+  : 4                              
##  Max.   :95.0                                                     
##                                                                   
##        livewith               employment       firstyr       enrolment 
##  alone     : 2   employed fulltime : 2   first year:24            : 4  
##  friends   : 7   employed part-time:45   other     :71   full-time:79  
##  other     : 3   govt assistance   :14                   part-time:12  
##  parents   :41   other             :15                                 
##  partner   :21   parental support  :19                                 
##  residences:21                                                         
##                                                                        
##    emotional      emotionalsat      tangible      tangiblesat   
##  Min.   : 6.00   Min.   : 8.00   Min.   : 4.00   Min.   : 8.00  
##  1st Qu.:17.00   1st Qu.:19.00   1st Qu.:14.00   1st Qu.:15.75  
##  Median :20.00   Median :20.00   Median :18.00   Median :18.00  
##  Mean   :19.24   Mean   :19.88   Mean   :16.41   Mean   :17.01  
##  3rd Qu.:21.00   3rd Qu.:22.00   3rd Qu.:20.00   3rd Qu.:20.00  
##  Max.   :25.00   Max.   :25.00   Max.   :20.00   Max.   :20.00  
##                  NA&#39;s   :1       NA&#39;s   :1       NA&#39;s   :3      
##      affect        affectsat          psi            psisat     
##  Min.   : 3.00   Min.   : 3.00   Min.   : 5.00   Min.   : 5.00  
##  1st Qu.:10.00   1st Qu.:11.00   1st Qu.:11.00   1st Qu.:11.00  
##  Median :13.00   Median :13.00   Median :12.00   Median :12.00  
##  Mean   :11.99   Mean   :12.33   Mean   :11.78   Mean   :12.17  
##  3rd Qu.:15.00   3rd Qu.:15.00   3rd Qu.:14.00   3rd Qu.:14.00  
##  Max.   :15.00   Max.   :15.00   Max.   :15.00   Max.   :15.00  
##                                                                 
##     esupport        psupport       supsources         BDI       
##  Min.   : 6.00   Min.   : 4.00   Min.   : 5.00   Min.   : 0.00  
##  1st Qu.:11.00   1st Qu.: 8.00   1st Qu.: 9.00   1st Qu.: 5.00  
##  Median :13.00   Median :10.00   Median :11.00   Median : 9.00  
##  Mean   :12.77   Mean   :10.33   Mean   :10.81   Mean   :10.76  
##  3rd Qu.:14.00   3rd Qu.:13.00   3rd Qu.:13.00   3rd Qu.:14.00  
##  Max.   :19.00   Max.   :20.00   Max.   :16.00   Max.   :48.00  
##  NA&#39;s   :1       NA&#39;s   :2       NA&#39;s   :2</code></pre>
<p><br> <br></p>
</div>
<div id="identify-varibles" class="section level2">
<h2><span class="header-section-number">0.3</span> Identify Varibles</h2>
<p><br></p>
<div id="identify-at-least-3-quantitative-variables-and-2-categorical-variables-that-they-will-analyze-using-research-questions." class="section level4">
<h4><span class="header-section-number">0.3.0.1</span> Identify at least 3 quantitative variables and 2 categorical variables that they will analyze using research questions.</h4>
<p><br></p>
<p>For quantitative variables, we chose look at BDI scores, emotional support scores, positive social support scorews, and age.Our categorical variables will be gender and country. <br> <br></p>
</div>
<div id="beck-depression-inventory" class="section level4">
<h4><span class="header-section-number">0.3.0.2</span> Beck Depression Inventory</h4>
<p><br> The documentation describes this dataset as on “social and other kinds of support”.Some of the variables are self-explanatory, i.e.“gender” has two levels: “female” &amp; “male”. <br> The most important varible we’ll be working with is the BDI score, or Beck Depression Inventory score.The original BDI, first published in 1961,consisted of twenty-one questions about how the subject has been feeling in the last week. Each question had a set of at least four possible responses, ranging in intensity. For example:</p>
<ul>
<li>0: I do not feel sad.</li>
<li>1: I feel sad.</li>
<li>2: I am sad all the time and I can’t snap out of it.</li>
<li><p>3: I am so sad or unhappy that I can’t stand it. <br> When the test is scored, a value of 0 to 3 is assigned for each answer and then the total score is compared to a key to determine the depression’s severity. The standard cut-off scores were as follows:</p></li>
<li>0–9: indicates minimal depression</li>
<li>10–18: indicates mild depression</li>
<li>19–29: indicates moderate depression</li>
<li><p>30–63: indicates severe depression. <br></p></li>
</ul>
<p>Higher total scores indicate more severe depressive symptoms. Some items on the original BDI had more than one statement marked with the same score. For instance, there are two responses under the Mood heading that score a 2: (2a) “I am blue or sad all the time and I can’t snap out of it” and (2b) “I am so sad or unhappy that it is very painful”.</p>
<p><br></p>
</div>
<div id="other-variables" class="section level4">
<h4><span class="header-section-number">0.3.0.3</span> Other variables</h4>
<p><br></p>
<ul>
<li><p>“firstyr” is only described as “a factor with levels first year, other”. Perhaps level “first year” indicates the index survey measure &amp; the level “other” indicates a follow-up survey?</p></li>
<li>“age” is described as “age, in years, with levels 18-20, 21-24, 25-30, 31-40,40+”.</li>
<li>“marital” is a factor with levels married, other, single.</li>
<li>“livewith” is a factor with levels alone, friends, other, parents, partner, residences.</li>
<li>“employment” is a factor with levels employed fulltime, employed part-time, govt assistance, other, parental support.</li>
<li><p>“enrolment” is a factor with levels full-time, part-time, <NA>.</p></li>
</ul>
<p><br></p>
<p>The remaining variables are each a score of various indicators for emotional support measured by the survey.</p>
<p><br></p>
</div>
</div>
<div id="feature-engineering" class="section level2">
<h2><span class="header-section-number">0.4</span> Feature Engineering</h2>
<p><br></p>
<p>We’ll need to prepare our data before we can begin to analyze it. First let’s put our data into a dataframe to make it easier to work with. You can think of a DataFrame as a group of Series that share an index (in this case the column headers). This makes it easy to select specific columns.</p>
<pre class="r"><code>my_data &lt;- as.data.frame(data)
class(my_data)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p><br></p>
<p>We’ll also need these packages:</p>
<pre class="r"><code>library(ggplot2)
library(dplyr) 
library(magrittr) </code></pre>
<p><br></p>
<p>Before we can make histograms, density curves, and boxplots, but first we’ll need to convert the “integer”&quot; variables to “numeric”. Notice in the output below that variable like BDI are classified as “integer”.</p>
<pre class="r"><code>sapply(my_data, class)</code></pre>
<pre><code>##            X       gender          age      country      marital 
##    &quot;integer&quot;     &quot;factor&quot;     &quot;factor&quot;     &quot;factor&quot;     &quot;factor&quot; 
##     livewith   employment      firstyr    enrolment    emotional 
##     &quot;factor&quot;     &quot;factor&quot;     &quot;factor&quot;     &quot;factor&quot;    &quot;integer&quot; 
## emotionalsat     tangible  tangiblesat       affect    affectsat 
##    &quot;integer&quot;    &quot;integer&quot;    &quot;integer&quot;    &quot;integer&quot;    &quot;integer&quot; 
##          psi       psisat     esupport     psupport   supsources 
##    &quot;integer&quot;    &quot;integer&quot;    &quot;integer&quot;    &quot;integer&quot;    &quot;integer&quot; 
##          BDI 
##    &quot;integer&quot;</code></pre>
<p><br></p>
<p>Converting integer variables to numeric:</p>
<pre class="r"><code>cols.num &lt;- c(&quot;emotional&quot;, &quot;emotionalsat&quot;, &quot;tangible&quot;, &quot;tangiblesat&quot;, &quot;affect&quot;,&quot;affectsat&quot;, &quot;psi&quot;, &quot;psisat&quot;, &quot;esupport&quot;, &quot;psupport&quot;, &quot;supsources&quot;, &quot;BDI&quot;)
my_data[cols.num] &lt;- sapply(my_data[cols.num],as.numeric)
sapply(my_data, class) # did it work - yes, BDI is now &quot;numeric&quot;</code></pre>
<pre><code>##            X       gender          age      country      marital 
##    &quot;integer&quot;     &quot;factor&quot;     &quot;factor&quot;     &quot;factor&quot;     &quot;factor&quot; 
##     livewith   employment      firstyr    enrolment    emotional 
##     &quot;factor&quot;     &quot;factor&quot;     &quot;factor&quot;     &quot;factor&quot;    &quot;numeric&quot; 
## emotionalsat     tangible  tangiblesat       affect    affectsat 
##    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot; 
##          psi       psisat     esupport     psupport   supsources 
##    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot; 
##          BDI 
##    &quot;numeric&quot;</code></pre>
<p><br></p>
</div>
<div id="basic-summary-stats" class="section level2">
<h2><span class="header-section-number">0.5</span> Basic Summary Stats</h2>
<p><br></p>
<div id="identify-4-5-questions-that-can-be-answered-by-the-file.-these-should-involve-the-quantitative-and-categorical-variables-identified." class="section level4">
<h4><span class="header-section-number">0.5.0.1</span> Identify 4-5 questions that can be answered by the file. These should involve the quantitative and categorical variables identified.</h4>
<p><br></p>
<p>Question 1: Who’s in our dataset? Let’s look at some basic gender, age, and country demographics.</p>
<p><br></p>
<pre class="r"><code>ggplot(my_data, aes(x = my_data$age, fill = my_data$gender)) +
  geom_histogram(binwidth = 1, alpha=.5, size = 0.1,color=&quot;white&quot;, stat = &quot;count&quot;) # use stat = &quot;count&quot; b/c age is discrete not continuous varible</code></pre>
<p><img src="Mod_1_files/figure-html/unnamed-chunk-6-1.png" /><!-- --></p>
<p>The bargraph above shows that our sample is overwhelmingly female and relatively young.</p>
<p><br></p>
<p>A contingency table gives a breakdown of the age groups:</p>
<pre class="r"><code>my_data %&gt;%
  count(age) %&gt;%
  mutate(prop = prop.table(n))</code></pre>
<pre><code>## # A tibble: 5 x 3
##   age       n   prop
##   &lt;fct&gt; &lt;int&gt;  &lt;dbl&gt;
## 1 18-20    44 0.463 
## 2 21-24    35 0.368 
## 3 25-30     6 0.0632
## 4 31-40     6 0.0632
## 5 40+       4 0.0421</code></pre>
<p><br></p>
<p>About 75% of the individuals in this dataset are female and about 25% are male.</p>
<pre class="r"><code>my_data %&gt;%
  count(gender) %&gt;%
  mutate(prop = prop.table(n))</code></pre>
<pre><code>## # A tibble: 2 x 3
##   gender     n  prop
##   &lt;fct&gt;  &lt;int&gt; &lt;dbl&gt;
## 1 female    71 0.747
## 2 male      24 0.253</code></pre>
<p><br></p>
<p>About 89% of study participants are from Australia and about 11% are from other countries.</p>
<pre class="r"><code>my_data %&gt;%
  count(country) %&gt;%
  mutate(prop = prop.table(n))</code></pre>
<pre><code>## # A tibble: 2 x 3
##   country       n  prop
##   &lt;fct&gt;     &lt;int&gt; &lt;dbl&gt;
## 1 australia    85 0.895
## 2 other        10 0.105</code></pre>
<p><br></p>
<p>Question 2: How depressed are people in this dataset - what is the distribution of BDI scores?</p>
<pre class="r"><code>ggplot(my_data,aes(x=my_data$`BDI`))+
  geom_histogram(aes(y=..density..), binwidth = 1,size = 0.1,      # Histogram with density instead of count on y-axis
               colour=&quot;black&quot;, fill=&quot;white&quot;) +
  geom_density(alpha=.2, fill=&quot;#FF6666&quot;) +
  geom_vline(aes(xintercept = mean(tangible, na.rm=T)),   # Ignore NA values for mean
             color = &quot;red&quot;, linetype = &quot;dashed&quot;, size=1)</code></pre>
<p><img src="Mod_1_files/figure-html/unnamed-chunk-10-1.png" /><!-- --> We can see that most people fall into the 0-9 and 10-18 score range for BDI, which indicate minimal depression and mild depression, respectively. The red dashed line above is the mean BDI score for our sample - notice that is skewed by a few high BDI scores to the right.</p>
<p><br></p>
<p>Question 3: How do BDI scores vary by age &amp; gender?</p>
<pre class="r"><code>ggplot(my_data, aes(x = age, y = BDI, fill = age)) + geom_boxplot()</code></pre>
<p><img src="Mod_1_files/figure-html/unnamed-chunk-11-1.png" /><!-- --> The boxplot above shows that there are outliers in almost every age category - this is why the histogram above has such a long right tail. It would seem that most respondents in this sample have minimal to mild depression scores, with several outliers skewing the data.</p>
<p><br></p>
<p>Question 4: Is there an association between depression &amp; emotional support? Adding a regression line will enable us to more clearly see if there are any trends as well as the 95% confidence interval.</p>
<pre class="r"><code>ggplot(my_data, aes(x = BDI, y = emotional, color = gender)) +
  geom_point(shape=1) +   
  geom_smooth(method=lm)   </code></pre>
<p><img src="Mod_1_files/figure-html/unnamed-chunk-12-1.png" /><!-- --> It would appear that there is a negative association between emotional support and depression. This is especially true for males, where a higher BDI score for depression seems indicative of lower emotional support.</p>
<p><br></p>
<p>Question 5: Is there an association between positive social support (psi) &amp; depression?</p>
<pre class="r"><code>ggplot(my_data, aes(x = BDI, y = psi, color = gender)) +
  geom_point(shape=1) +   
  geom_smooth(method=lm)   </code></pre>
<p><img src="Mod_1_files/figure-html/unnamed-chunk-13-1.png" /><!-- --> It appears that there is also a negative relationshp between positive social support and depression for both genders.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
